var yoke=yoke||{},CustomEvent=CustomEvent||{};!function(e){var t,n,o,i,r,a,c,s,l,u=e.createElement("ul"),f="yoke-list",d={},v={trigger:!0,clear:!0,bind:!0,unbind:!0,list:!0},m=function(e){return console&&console.log&&console.log(e)},h=function(e){return console&&console.warn&&console.warn(e)},E=function(){},g=function(e){return"string"==typeof e},y=function(e){return"function"==typeof e},b=function(e){return"object"==typeof e},k=function(e,t){return e.querySelector("#"+t)};u.setAttribute("id",f),t=function(e){try{var t;CustomEvent&&y(CustomEvent)?t=new CustomEvent(e):(t=document.createEvent("Event"),t.initEvent(e,!0,!0)),d[e]=t}catch(n){h("YokeJS not supported: "+n)}},n=function(e,t,n){e.addEventListener&&e.addEventListener(t,n,!1)},o=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},i=function(e,t){e.dispatchEvent&&e.dispatchEvent(t)},r=function(o,i){if(y(i.handler)){i.id=i.id||"yoke-"+Math.floor(1e5*Math.random()),a(o,i);var r=e.createElement("li");r.setAttribute("class",o),r.setAttribute("id",i.id),t(o),n(r,o,function(e,t){try{i.handler(t)}catch(n){h("yoke handler failed:"+n+" - "+o)}}),u.appendChild(r)}},a=function(e,t){var n=k(u,t.id);n&&(o(n,e,E),u.removeChild(n))},c=function(e){var t=u.getElementsByClassName(e);if(t.length)for(;t.length;)if(t[0]){var n=t[0];o(n,e,E),u.removeChild(n)}},s=function(e){var t=u.getElementsByClassName(e);if(t.length)for(var n=0;n<t.length;n++)m("yoke:"+t[n].className+" id:"+t[n].id)},l=function(e){var t=d[e];if(t){var n=u.getElementsByClassName(e);if(n.length)for(var o=0;o<n.length;o++)i(n[o],t)}},yoke=function(e,t){if(t=t||{},g(e)&&b(t)&&(y(t.handler)&&(t.action="bind"),t.action=t.action||"trigger",m("yoke():"+e+":"+t.action),g(t.action)&&v[t.action]))switch(t.action){case"bind":r(e,t);break;case"unbind":a(e,t);break;case"trigger":l(e);break;case"clear":c(e);break;case"list":s(e)}}}(document);